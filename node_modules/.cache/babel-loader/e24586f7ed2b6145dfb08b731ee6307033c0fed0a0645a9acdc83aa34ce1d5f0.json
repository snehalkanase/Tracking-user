{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Genxhire\\\\Projects\\\\Website\\\\esurveillance-local-tracker\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport jwt_decode from \"jwt-decode\";\nimport Error from './pages/error';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [screen, setScreen] = useState('Initial');\n  const queryParameters = new URLSearchParams(window.location.search);\n  const token = queryParameters.get('token');\n  try {\n    const decoded = jwt_decode(token);\n    const name = decoded.name;\n    const expiryTime = decoded.exp;\n    const currentTime = Math.floor(Date.now() / 1000);\n    if (currentTime < expiryTime) {\n      setScreen('No-GPS');\n    } else {\n      setScreen('Expired');\n    }\n  } catch (error) {\n    setScreen('Invalid');\n  }\n  if (screen === 'Initial') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Error, {\n        image: \"expired.svg\",\n        title: \"Please Wait\",\n        subTitle: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }, this);\n  } else if (screen === 'Expired') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Error, {\n        image: \"expired.svg\",\n        title: \"Oops, this link is expired!\",\n        subTitle: \"Please request a new link from an administrator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this);\n  } else if (screen === 'Invalid') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Error, {\n        image: \"invalid.svg\",\n        title: \"Test\",\n        subTitle: \"Test SubTUtle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this);\n  } else if (screen === 'No-GPS') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Error, {\n        image: \"no_gps.svg\",\n        title: \"No GPS!\",\n        subTitle: \"Satelite can't find you\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Error, {\n        image: \"no_gps.svg\",\n        title: \"No GPS!\",\n        subTitle: \"Satelite can't find you\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this);\n  }\n}\n_s(App, \"pU92+IZIU0dIAydNvmr1MqAw//c=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["jwt_decode","Error","useState","jsxDEV","_jsxDEV","App","_s","screen","setScreen","queryParameters","URLSearchParams","window","location","search","token","get","decoded","name","expiryTime","exp","currentTime","Math","floor","Date","now","error","children","image","title","subTitle","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Genxhire/Projects/Website/esurveillance-local-tracker/src/App.js"],"sourcesContent":["import './App.css';\nimport jwt_decode from \"jwt-decode\";\nimport Error from './pages/error';\nimport { useState } from 'react';\n\n\nfunction App() {\n  const [screen, setScreen] = useState('Initial');\n  const queryParameters = new URLSearchParams(window.location.search);\n  const token = queryParameters.get('token');\n\n  try{\n    const decoded = jwt_decode(token);\n    const name = decoded.name;\n    const expiryTime = decoded.exp;\n    const currentTime = Math.floor(Date.now() / 1000);\n    if(currentTime < expiryTime){\n      \n      setScreen('No-GPS');\n    }else{\n      setScreen('Expired');\n    }\n  }catch(error){\n    setScreen('Invalid');\n  }\n  \nif(screen === 'Initial'){\n  return (\n    <div>\n    <Error image={\"expired.svg\"}\n      title={\"Please Wait\"}\n      subTitle={\"Loading\"} />\n    </div>\n  );\n}else if(screen === 'Expired'){\n  return (\n    <div>\n    <Error image={\"expired.svg\"}\n      title={\"Oops, this link is expired!\"}\n      subTitle={\"Please request a new link from an administrator\"} />\n    </div>\n  );\n}else if (screen === 'Invalid'){\n  return (\n    <div>\n    <Error image={\"invalid.svg\"}\n      title={\"Test\"}\n      subTitle={\"Test SubTUtle\"} />\n    </div>\n  );\n}else if (screen === 'No-GPS'){\n  return (\n    <div>\n    <Error image={\"no_gps.svg\"}\n      title={\"No GPS!\"}\n      subTitle={\"Satelite can't find you\"} />\n    </div>\n  );\n} else {\n  return (\n    <div>\n    <Error image={\"no_gps.svg\"}\n      title={\"No GPS!\"}\n      subTitle={\"Satelite can't find you\"} />\n    </div>\n  );\n}\n  \n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}