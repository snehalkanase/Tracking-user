{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Genxhire/Projects/Website/esurveillance-local-tracker/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Genxhire/Projects/Website/esurveillance-local-tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"C:/Users/Genxhire/Projects/Website/esurveillance-local-tracker/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Genxhire/Projects/Website/esurveillance-local-tracker/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/Genxhire/Projects/Website/esurveillance-local-tracker/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Genxhire/Projects/Website/esurveillance-local-tracker/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n// BaseRequestPolicy has a protected constructor.\n/* eslint-disable @typescript-eslint/no-useless-constructor */\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function ndJsonPolicy() {\n  return {\n    create: function create(nextPolicy, options) {\n      return new NdJsonPolicy(nextPolicy, options);\n    }\n  };\n}\n/**\n * NdJsonPolicy that formats a JSON array as newline-delimited JSON\n */\nvar NdJsonPolicy = /*#__PURE__*/function (_BaseRequestPolicy) {\n  _inherits(NdJsonPolicy, _BaseRequestPolicy);\n  var _super = _createSuper(NdJsonPolicy);\n  /**\n   * Creates an instance of KeepAlivePolicy.\n   */\n  function NdJsonPolicy(nextPolicy, options) {\n    _classCallCheck(this, NdJsonPolicy);\n    return _super.call(this, nextPolicy, options);\n  }\n  /**\n   * Sends a request.\n   */\n  _createClass(NdJsonPolicy, [{\n    key: \"sendRequest\",\n    value: function () {\n      var _sendRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request) {\n        var body;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              // There currently isn't a good way to bypass the serializer\n              if (typeof request.body === \"string\" && request.body.startsWith(\"[\")) {\n                body = JSON.parse(request.body);\n                if (Array.isArray(body)) {\n                  request.body = body.map(function (item) {\n                    return JSON.stringify(item) + \"\\n\";\n                  }).join(\"\");\n                }\n              }\n              return _context.abrupt(\"return\", this._nextPolicy.sendRequest(request));\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function sendRequest(_x) {\n        return _sendRequest.apply(this, arguments);\n      }\n      return sendRequest;\n    }()\n  }]);\n  return NdJsonPolicy;\n}(BaseRequestPolicy);","map":{"version":3,"names":["BaseRequestPolicy","ndJsonPolicy","create","nextPolicy","options","NdJsonPolicy","_BaseRequestPolicy","_inherits","_super","_createSuper","_classCallCheck","call","_createClass","key","value","_sendRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","request","body","wrap","_callee$","_context","prev","next","startsWith","JSON","parse","Array","isArray","map","item","stringify","join","abrupt","_nextPolicy","sendRequest","stop","_x","apply","arguments"],"sources":["C:\\Users\\Genxhire\\Projects\\Website\\esurveillance-local-tracker\\node_modules\\@azure\\core-http\\src\\policies\\ndJsonPolicy.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n// BaseRequestPolicy has a protected constructor.\n/* eslint-disable @typescript-eslint/no-useless-constructor */\n\nimport {\n  BaseRequestPolicy,\n  RequestPolicy,\n  RequestPolicyFactory,\n  RequestPolicyOptions,\n} from \"./requestPolicy\";\nimport { HttpOperationResponse } from \"../httpOperationResponse\";\nimport { WebResourceLike } from \"../webResource\";\n\nexport function ndJsonPolicy(): RequestPolicyFactory {\n  return {\n    create: (nextPolicy: RequestPolicy, options: RequestPolicyOptions) => {\n      return new NdJsonPolicy(nextPolicy, options);\n    },\n  };\n}\n\n/**\n * NdJsonPolicy that formats a JSON array as newline-delimited JSON\n */\nclass NdJsonPolicy extends BaseRequestPolicy {\n  /**\n   * Creates an instance of KeepAlivePolicy.\n   */\n  constructor(nextPolicy: RequestPolicy, options: RequestPolicyOptions) {\n    super(nextPolicy, options);\n  }\n\n  /**\n   * Sends a request.\n   */\n  public async sendRequest(request: WebResourceLike): Promise<HttpOperationResponse> {\n    // There currently isn't a good way to bypass the serializer\n    if (typeof request.body === \"string\" && request.body.startsWith(\"[\")) {\n      const body = JSON.parse(request.body);\n      if (Array.isArray(body)) {\n        request.body = body.map((item) => JSON.stringify(item) + \"\\n\").join(\"\");\n      }\n    }\n    return this._nextPolicy.sendRequest(request);\n  }\n}\n"],"mappings":";;;;;;AAAA;AACA;AAEA;AACA;AAEA,SACEA,iBAAiB,QAIZ,iBAAiB;AAIxB,OAAM,SAAUC,YAAYA,CAAA;EAC1B,OAAO;IACLC,MAAM,EAAE,SAAAA,OAACC,UAAyB,EAAEC,OAA6B,EAAI;MACnE,OAAO,IAAIC,YAAY,CAACF,UAAU,EAAEC,OAAO,CAAC;IAC9C;GACD;AACH;AAEA;;;AAAA,IAGMC,YAAa,0BAAAC,kBAAA;EAAAC,SAAA,CAAAF,YAAA,EAAAC,kBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,YAAA;EACjB;;;EAGA,SAAAA,aAAYF,UAAyB,EAAEC,OAA6B;IAAAM,eAAA,OAAAL,YAAA;IAAA,OAAAG,MAAA,CAAAG,IAAA,OAC5DR,UAAU,EAAEC,OAAO;EAC3B;EAEA;;;EAAAQ,YAAA,CAAAP,YAAA;IAAAQ,GAAA;IAAAC,KAAA;MAAA,IAAAC,YAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAGO,SAAAC,QAAkBC,OAAwB;QAAA,IAAAC,IAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAC/C;cACA,IAAI,OAAON,OAAO,CAACC,IAAI,KAAK,QAAQ,IAAID,OAAO,CAACC,IAAI,CAACM,UAAU,CAAC,GAAG,CAAC,EAAE;gBAC9DN,IAAI,GAAGO,IAAI,CAACC,KAAK,CAACT,OAAO,CAACC,IAAI,CAAC;gBACrC,IAAIS,KAAK,CAACC,OAAO,CAACV,IAAI,CAAC,EAAE;kBACvBD,OAAO,CAACC,IAAI,GAAGA,IAAI,CAACW,GAAG,CAAC,UAACC,IAAI;oBAAA,OAAKL,IAAI,CAACM,SAAS,CAACD,IAAI,CAAC,GAAG,IAAI;kBAAA,EAAC,CAACE,IAAI,CAAC,EAAE,CAAC;;;cAE1E,OAAAX,QAAA,CAAAY,MAAA,WACM,IAAI,CAACC,WAAW,CAACC,WAAW,CAAClB,OAAO,CAAC;YAAA;YAAA;cAAA,OAAAI,QAAA,CAAAe,IAAA;UAAA;QAAA,GAAApB,OAAA;MAAA,CAC7C;MAAA,SAAAmB,YAAAE,EAAA;QAAA,OAAAzB,YAAA,CAAA0B,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAJ,WAAA;IAAA;EAAA;EAAA,OAAAjC,YAAA;AAAA,EApBwBL,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}