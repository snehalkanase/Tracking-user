{"ast":null,"code":"import _slicedToArray from \"C:/Users/Genxhire/Projects/Website/esurveillance-local-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar VERSION = \"00\";\n/**\n * Generates a `SpanContext` given a `traceparent` header value.\n * @param traceParent - Serialized span context data as a `traceparent` header value.\n * @returns The `SpanContext` generated from the `traceparent` value.\n */\nexport function extractSpanContextFromTraceParentHeader(traceParentHeader) {\n  var parts = traceParentHeader.split(\"-\");\n  if (parts.length !== 4) {\n    return;\n  }\n  var _parts = _slicedToArray(parts, 4),\n    version = _parts[0],\n    traceId = _parts[1],\n    spanId = _parts[2],\n    traceOptions = _parts[3];\n  if (version !== VERSION) {\n    return;\n  }\n  var traceFlags = parseInt(traceOptions, 16);\n  var spanContext = {\n    spanId: spanId,\n    traceId: traceId,\n    traceFlags: traceFlags\n  };\n  return spanContext;\n}\n/**\n * Generates a `traceparent` value given a span context.\n * @param spanContext - Contains context for a specific span.\n * @returns The `spanContext` represented as a `traceparent` value.\n */\nexport function getTraceParentHeader(spanContext) {\n  var missingFields = [];\n  if (!spanContext.traceId) {\n    missingFields.push(\"traceId\");\n  }\n  if (!spanContext.spanId) {\n    missingFields.push(\"spanId\");\n  }\n  if (missingFields.length) {\n    return;\n  }\n  var flags = spanContext.traceFlags || 0 /* NONE */;\n  var hexFlags = flags.toString(16);\n  var traceFlags = hexFlags.length === 1 ? \"0\".concat(hexFlags) : hexFlags;\n  // https://www.w3.org/TR/trace-context/#traceparent-header-field-values\n  return \"\".concat(VERSION, \"-\").concat(spanContext.traceId, \"-\").concat(spanContext.spanId, \"-\").concat(traceFlags);\n}","map":{"version":3,"names":["VERSION","extractSpanContextFromTraceParentHeader","traceParentHeader","parts","split","length","_parts","_slicedToArray","version","traceId","spanId","traceOptions","traceFlags","parseInt","spanContext","getTraceParentHeader","missingFields","push","flags","hexFlags","toString","concat"],"sources":["C:\\Users\\Genxhire\\Projects\\Website\\esurveillance-local-tracker\\node_modules\\@azure\\core-tracing\\src\\utils\\traceParentHeader.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { SpanContext, TraceFlags } from \"../interfaces\";\n\nconst VERSION = \"00\";\n\n/**\n * Generates a `SpanContext` given a `traceparent` header value.\n * @param traceParent - Serialized span context data as a `traceparent` header value.\n * @returns The `SpanContext` generated from the `traceparent` value.\n */\nexport function extractSpanContextFromTraceParentHeader(\n  traceParentHeader: string\n): SpanContext | undefined {\n  const parts = traceParentHeader.split(\"-\");\n\n  if (parts.length !== 4) {\n    return;\n  }\n\n  const [version, traceId, spanId, traceOptions] = parts;\n\n  if (version !== VERSION) {\n    return;\n  }\n\n  const traceFlags = parseInt(traceOptions, 16);\n\n  const spanContext: SpanContext = {\n    spanId,\n    traceId,\n    traceFlags\n  };\n\n  return spanContext;\n}\n\n/**\n * Generates a `traceparent` value given a span context.\n * @param spanContext - Contains context for a specific span.\n * @returns The `spanContext` represented as a `traceparent` value.\n */\nexport function getTraceParentHeader(spanContext: SpanContext): string | undefined {\n  const missingFields: string[] = [];\n  if (!spanContext.traceId) {\n    missingFields.push(\"traceId\");\n  }\n  if (!spanContext.spanId) {\n    missingFields.push(\"spanId\");\n  }\n\n  if (missingFields.length) {\n    return;\n  }\n\n  const flags = spanContext.traceFlags || TraceFlags.NONE;\n  const hexFlags = flags.toString(16);\n  const traceFlags = hexFlags.length === 1 ? `0${hexFlags}` : hexFlags;\n\n  // https://www.w3.org/TR/trace-context/#traceparent-header-field-values\n  return `${VERSION}-${spanContext.traceId}-${spanContext.spanId}-${traceFlags}`;\n}\n"],"mappings":";AAAA;AACA;AAIA,IAAMA,OAAO,GAAG,IAAI;AAEpB;;;;;AAKA,OAAM,SAAUC,uCAAuCA,CACrDC,iBAAyB;EAEzB,IAAMC,KAAK,GAAGD,iBAAiB,CAACE,KAAK,CAAC,GAAG,CAAC;EAE1C,IAAID,KAAK,CAACE,MAAM,KAAK,CAAC,EAAE;IACtB;;EAGF,IAAAC,MAAA,GAAAC,cAAA,CAAiDJ,KAAK;IAA/CK,OAAO,GAAAF,MAAA;IAAEG,OAAO,GAAAH,MAAA;IAAEI,MAAM,GAAAJ,MAAA;IAAEK,YAAY,GAAAL,MAAA;EAE7C,IAAIE,OAAO,KAAKR,OAAO,EAAE;IACvB;;EAGF,IAAMY,UAAU,GAAGC,QAAQ,CAACF,YAAY,EAAE,EAAE,CAAC;EAE7C,IAAMG,WAAW,GAAgB;IAC/BJ,MAAM,EAANA,MAAM;IACND,OAAO,EAAPA,OAAO;IACPG,UAAU,EAAVA;GACD;EAED,OAAOE,WAAW;AACpB;AAEA;;;;;AAKA,OAAM,SAAUC,oBAAoBA,CAACD,WAAwB;EAC3D,IAAME,aAAa,GAAa,EAAE;EAClC,IAAI,CAACF,WAAW,CAACL,OAAO,EAAE;IACxBO,aAAa,CAACC,IAAI,CAAC,SAAS,CAAC;;EAE/B,IAAI,CAACH,WAAW,CAACJ,MAAM,EAAE;IACvBM,aAAa,CAACC,IAAI,CAAC,QAAQ,CAAC;;EAG9B,IAAID,aAAa,CAACX,MAAM,EAAE;IACxB;;EAGF,IAAMa,KAAK,GAAGJ,WAAW,CAACF,UAAU;EACpC,IAAMO,QAAQ,GAAGD,KAAK,CAACE,QAAQ,CAAC,EAAE,CAAC;EACnC,IAAMR,UAAU,GAAGO,QAAQ,CAACd,MAAM,KAAK,CAAC,OAAAgB,MAAA,CAAOF,QAAQ,IAAKA,QAAQ;EAEpE;EACA,UAAAE,MAAA,CAAUrB,OAAO,OAAAqB,MAAA,CAAIP,WAAW,CAACL,OAAO,OAAAY,MAAA,CAAIP,WAAW,CAACJ,MAAM,OAAAW,MAAA,CAAIT,UAAU;AAC9E"},"metadata":{},"sourceType":"module","externalDependencies":[]}